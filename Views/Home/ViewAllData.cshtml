@model List<CodingChallengeV4.ViewModels.ContactPassData>

@{
    ViewBag.RecordCount = (Model.Count() > 0) ? Model.FirstOrDefault().passedID : 0;
}

<h2>View All Contacts</h2>
<div class="tab-content">
    <div class="tab-pane container active p-0" id="home">
        <h5 class="text-uppercase p-2 text-center">List of Contacts</h5>
        <table class="table table-bordered table-striped">
            <thead class="thead-dark text-white">
                <tr>
                    <th>ID</th>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>eMail Address</th>
                    <th>eMail Type</th>
                </tr>
            </thead>
            <tbody>
                @if (ViewBag.RecordCount == 0)
            {
                <tr>
                    <th colspan="5">There are no records in the database</th>
                </tr>
            } 
                @foreach (var record in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => record.passedID,
                                new
                                {
                                    htmlAttributes =
                                        new
                                        {
                                            @id = $"ID_{record.passedID}"
                                        }
                                })
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => record.passedfName,
                                new
                                {
                                    htmlAttributes =
                                        new
                                        {
                                            @id = $"FirstName_{record.passedID}"
                                        }
                                })
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => record.passedlName,
                                new
                                {
                                    htmlAttributes =
                                        new
                                        {
                                            @id = $"LastName_{record.passedID}"
                                        }
                                })
                        <td>
                            @Html.DisplayFor(modelItem => record.passedeMail,
                                new
                                {
                                    htmlAttributes =
                                        new
                                        {
                                            @id = $"EmailAddress_{record.passedID}"
                                        }
                                })
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => record.passedeMailTypeString,
                                new
                                {
                                    htmlAttributes =
                                        new
                                        {
                                            @id = $"EmailAddressType_{record.passedID}"
                                        }
                                })
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>
